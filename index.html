<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DuckFinder</title>
<style>
  :root{
    --bg:#020202;
    --panel:#001a00;
    --text:#7fffd4;
    --accent:#00ff41;
    --muted:#556;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace;
  }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,#000 0%, #050505 100%);color:var(--text)}
  .wrap{
    height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px;
  }
  .console{
    width:min(1000px,96%);
    background:linear-gradient(180deg,#001100 0%, #001a00 50%, #001100 100%);
    border-radius:8px;
    box-shadow:0 20px 60px rgba(0,0,0,.8);
    padding:18px;
    color:var(--accent);
    border:1px solid rgba(0,255,65,0.08);
    position:relative;
  }
  .header{
    display:flex;
    align-items:center;
    gap:12px;
    margin-bottom:8px;
  }
  .dots{display:flex;gap:6px}
  .dot{width:12px;height:12px;border-radius:50%}
  .dot.red{background:#ff6159} .dot.yellow{background:#ffd86b} .dot.green{background:#6aff6a}
  .title{font-weight:700;color:#aaffc9}
  .screen{
    background:#000;
    color:var(--accent);
    padding:18px;
    border-radius:6px;
    min-height:320px;
    font-size:16px;
    line-height:1.35;
    box-shadow:inset 0 0 40px rgba(0,255,65,0.02);
    overflow:auto;
    white-space:pre-wrap;
    font-family:inherit;
  }
  .controls{
    display:flex;
    gap:10px;
    margin-top:12px;
    align-items:center;
  }
  .btn{
    background:transparent;
    border:1px solid rgba(0,255,65,0.15);
    color:var(--accent);
    padding:8px 12px;
    border-radius:6px;
    cursor:pointer;
  }
  .btn.primary{
    background:rgba(0,255,65,0.06);
    border-color:rgba(0,255,65,0.22);
  }
  .muted-note{color:var(--muted);font-size:13px}
  .warning{
    background:linear-gradient(90deg,#2b0b0b,#3d0f0f);
    color:#ffcfcf;
    padding:10px;
    border-radius:6px;
    margin-bottom:12px;
    border:1px solid rgba(255,200,200,0.06);
  }
  .controls input[type="range"]{width:180px}
  /* Small friendly modal for consent/warning */
  .modal{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
    background:rgba(0,0,0,0.6);z-index:40;
  }
  .modal-card{
    background:#071207;padding:18px;border-radius:10px;border:1px solid rgba(0,255,65,0.06);
    width:min(720px,94%);
  }
  .modal-card h2{margin:0 0 6px 0;color:#caffd9}
  .small{font-size:13px;color:var(--muted)}
</style>
</head>
<body>
<div class="wrap">
  <div class="console" role="region" aria-label="Duck Locater">
    <div class="header">
      <div class="dots">
        <div class="dot red"></div>
        <div class="dot yellow"></div>
        <div class="dot green"></div>
      </div>
      <div class="title">Duck Locater</div>
    </div>

    <div class="warning">
      This is a script that locates duck <strong>links</strong> data. Do not use in school. Be careful using this software.
    </div>

    <div id="screen" class="screen" aria-live="polite"></div>

    <div class="controls">
      <button id="startBtn" class="btn primary" title="Start demo">Start Locating</button>
      
      <label class="muted-note" style="margin-left:6px">Audio:</label>
      <input id="volumeRange" type="range" min="0" max="1" step="0.01" value="1" aria-label="Volume slider">
      <span id="volLabel" class="muted-note">100%</span>

      <div style="margin-left:auto;text-align:right">
        <div class="muted-note">Hey <kbd>secret!!!</kbd> Congrats!!!</div>
      </div>
    </div>

    <div style="margin-top:10px" class="muted-note">
      Tip: Use only when teachers not looking!.
    </div>
  </div>
</div>

<!-- Audio element (user supplies their mp3) -->
<!-- IMPORTANT: replace src with your own MP3 file or relative path. -->
<audio id="bgAudio" loop preload="none">
  <source src="sample.mp3" type="audio/mpeg">
  Your browser does not support audio.
</audio>

<script>
  // Lines to type â€” USE FICTIONAL DATA ONLY
  const lines = [
    "Initializing console...",
    "Date:2025",
    "Location found, sending to Virus Managers...",
    "IP Address: 203.0.113.45, sending to Virus Managers...",
    "Name: Rhodri Funnell",
    "County: Carmarthenshire",
    "Passwords logged: [redacted] ApLucR5@hwbcymru.net",
    "SYSTEM: You have been pwned. Goodbye."
  ];

  const screen = document.getElementById('screen');
  const startBtn = document.getElementById('startBtn');
  const audio = document.getElementById('bgAudio');
  const volumeRange = document.getElementById('volumeRange');
  const volLabel = document.getElementById('volLabel');

  // Set moderate default volume
  audio.volume = Number(volumeRange.value);

  function typeLine(line, i, delayBetweenChars = 5) {
    return new Promise(resolve => {
      let idx = 0;
      const container = document.createElement('div');
      container.textContent = ""; // start empty
      screen.appendChild(container);
      screen.scrollTop = screen.scrollHeight;
      const timer = setInterval(() => {
        container.textContent += line[idx++];
        screen.scrollTop = screen.scrollHeight;
        if (idx >= line.length) {
          clearInterval(timer);
          // small pause after line typed
          setTimeout(resolve, 300 + (i % 3) * 100);
        }
      }, delayBetweenChars + Math.random()*15);
    });
  }

  async function runDemo() {
    startBtn.disabled = true;
    screen.textContent = "";

    for (let i = 0; i < lines.length; i++) {
      await typeLine(lines[i], i, 20);
    }

    // Play audio after typing completes
    audio.play().catch(e => console.warn("Audio couldn't autoplay:", e));

    // keep cursor effect
    const cursor = document.createElement('span');
    cursor.textContent = "\n> ";
    screen.appendChild(cursor);
    screen.scrollTop = screen.scrollHeight;
  }

  startBtn.addEventListener('click', () => {
    runDemo();
  });

    audio.pause();
    audio.currentTime = 0;
    startBtn.disabled = false;
  });

  volumeRange.addEventListener('input', () => {
    audio.volume = Number(volumeRange.value);
    volLabel.textContent = Math.round(audio.volume * 100) + "%";
  });

  // Esc stops audio and enables start again
  window.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      audio.pause();
      audio.currentTime = 0;
      startBtn.disabled = false;
    }
  });

  // Prevent accidental navigation away while demo is running (optional)
  window.addEventListener('beforeunload', (ev) => {
    if (!startBtn.disabled) {
      return;
    }
    ev.preventDefault();
    ev.returnValue = '';
  });

  // Accessibility: focus Start button on page load
  startBtn.focus();
</script>
</body>
</html>
